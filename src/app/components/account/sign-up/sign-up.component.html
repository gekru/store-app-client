<mat-card class="mat-elevation-z4 signin-card">
  <div class="logo-placement">
    <i class="material-icons logo" (click)="onAccountData()">person</i>
  </div>
  <mat-card-title>Create account</mat-card-title>

  <div *ngIf="!(signUpSuccess$ | async) && ((errors$ | async)?.error.length > 0)" class="error-block">
    <mat-card-header class="error-wrapper">
      <div mat-card-avatar class="error-icon">
        <div>
          <i class="material-icons error-icon">priority_high</i>
        </div>
      </div>
      <mat-card-title>There was a problem</mat-card-title>
      <mat-card-subtitle>Register failed:</mat-card-subtitle>
      <mat-card-subtitle *ngFor="let error of (errors$ | async)?.error">
        <div>{{error}}</div>
      </mat-card-subtitle>
    </mat-card-header>
  </div>

  <form [formGroup]="formGroup" (ngSubmit)="onSignUp(formGroup.value)">

    <mat-form-field appearance="outline">
      <mat-label>First name</mat-label>
      <input matInput formControlName="firstName" type="text">
      <mat-error *ngIf="formGroup.get('firstName').hasError('required')">
        Please enter Your First name
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Last name</mat-label>
      <input matInput formControlName="lastName" type="text">
      <mat-error *ngIf="formGroup.get('lastName').hasError('required')">
        Please enter Your Last name
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>E-mail</mat-label>
      <input matInput formControlName="email" type="email">
      <mat-error *ngIf="formGroup.invalid">{{ emailErrorMessage() }}</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Password</mat-label>
      <input matInput formControlName="password" [type]="showPassword ? 'password' : 'text'" autocomplete="off">
      <span role="button" mat-icon-button matSuffix (click)="showPassword = !showPassword">
        <mat-icon>{{ showPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
      </span>
      <mat-error *ngIf="formGroup.invalid">{{ passwordErrorMessage() }}</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Confirm password</mat-label>
      <input matInput formControlName="confirmPassword" [type]="showConfirmPassword ? 'password' : 'text'"
        autocomplete="off">
      <span role="button" mat-icon-button matSuffix (click)="showConfirmPassword = !showConfirmPassword">
        <mat-icon>{{ showConfirmPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
      </span>
      <mat-error *ngIf="formGroup.invalid">{{confirmPasswordErrorMessage()}}</mat-error>
    </mat-form-field>

    <div class="button">
      <button class="square-button green-button" mat-raised-button>Sign Up your account</button>
    </div>
  </form>

  <div class="sign-in-container">
    <p>Already have an account? <a routerLink="/sign-in">Sign-In</a></p>
  </div>
</mat-card>